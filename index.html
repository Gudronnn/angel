<!DOCTYPE html>
<html lang="uk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Перукарня Angel — Запис та Галерея</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Playfair+Display&family=Poppins&display=swap');

  * {
    box-sizing: border-box;
  }

  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background: linear-gradient(135deg, #fff0f8, #ffe6f2);
    color: #333;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }

  header {
    background: #d58ab3;
    color: white;
    padding: 20px 30px;
    display: flex;
    align-items: center;
    justify-content: space-between;
    font-family: 'Playfair Display', serif;
    box-shadow: 0 4px 8px rgba(213, 138, 179, 0.4);
  }

  header h1 {
    margin: 0;
    font-size: 2.5rem;
    letter-spacing: 2px;
  }

  nav a {
    color: white;
    margin-left: 20px;
    text-decoration: none;
    font-weight: 600;
    font-size: 1.1rem;
    position: relative;
    transition: color 0.3s;
  }

  nav a::after {
    content: '';
    position: absolute;
    bottom: -4px;
    left: 0;
    width: 0%;
    height: 2px;
    background: #fff;
    transition: width 0.3s;
  }

  nav a:hover, nav a.active {
    color: #fbe7f0;
  }

  nav a:hover::after, nav a.active::after {
    width: 100%;
  }

  main {
    flex-grow: 1;
    max-width: 720px;
    margin: 40px auto;
    background: white;
    border-radius: 20px;
    padding: 30px 40px;
    box-shadow: 0 10px 30px rgba(213, 138, 179, 0.2);
    animation: fadeIn 0.6s ease forwards;
  }

  h2 {
    font-family: 'Playfair Display', serif;
    color: #d58ab3;
    font-size: 2rem;
    margin-bottom: 20px;
    text-align: center;
  }

  form {
    max-width: 400px;
    margin: 0 auto;
  }

  label {
    display: block;
    margin-top: 20px;
    font-weight: 600;
    color: #6e3a58;
  }

  select, button {
    width: 100%;
    padding: 12px 15px;
    margin-top: 6px;
    font-size: 1rem;
    border-radius: 12px;
    border: 2px solid #d58ab3;
    transition: border-color 0.3s, box-shadow 0.3s;
    font-family: 'Poppins', sans-serif;
    cursor: pointer;
  }

  select:focus, button:focus {
    outline: none;
    border-color: #b05382;
    box-shadow: 0 0 8px #b05382aa;
  }

  select:disabled {
    background: #f5e7ed;
    cursor: not-allowed;
  }

  button {
    background: #d58ab3;
    color: white;
    border: none;
    margin-top: 30px;
    font-weight: 700;
    box-shadow: 0 5px 15px #d58ab3bb;
    transition: background-color 0.4s, box-shadow 0.4s;
  }

  button:disabled {
    background: #f3cde0;
    cursor: default;
    box-shadow: none;
  }

  button:hover:not(:disabled) {
    background: #b95384;
    box-shadow: 0 7px 20px #b9538477;
  }

  #message {
    margin-top: 25px;
    font-weight: 700;
    text-align: center;
    color: #4a854a;
    font-size: 1.1rem;
  }

  .gallery-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
    gap: 20px;
    padding-top: 10px;
  }

  .gallery-grid img {
    width: 100%;
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(213, 138, 179, 0.3);
    cursor: pointer;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }

  .gallery-grid img:hover {
    transform: scale(1.05);
    box-shadow: 0 8px 25px rgba(213, 138, 179, 0.6);
  }

  footer {
    text-align: center;
    padding: 20px;
    font-size: 0.9rem;
    color: #666;
    border-top: 1px solid #eee;
    margin-top: 40px;
  }

  footer a {
    color: #d58ab3;
    text-decoration: none;
    font-weight: 700;
    transition: color 0.3s;
  }

  footer a:hover {
    color: #b95384;
  }

  @keyframes fadeIn {
    from {opacity: 0; transform: translateY(15px);}
    to {opacity: 1; transform: translateY(0);}
  }

  .page {
    display: none;
  }
  .page.active {
    display: block;
  }
</style>
</head>
<body>

<header>
  <h1>Angel</h1>
  <nav>
    <a href="#" id="navBooking" class="active" aria-current="page">Запис</a>
    <a href="#" id="navGallery">Галерея</a>
  </nav>
</header>

<main>
  <section id="bookingPage" class="page active" aria-label="Форма запису на прийом">
    <h2>Запис на прийом</h2>
    <form id="bookingForm" novalidate>
      <label for="dateSelect">Оберіть дату</label>
      <select id="dateSelect" required>
        <option value="" disabled selected>Виберіть дату</option>
      </select>

      <label for="timeSelect">Оберіть час</label>
      <select id="timeSelect" required disabled>
        <option value="" disabled selected>Виберіть час</option>
      </select>

      <button type="submit" id="bookBtn" disabled>Записатись</button>
    </form>
    <div id="message" role="alert" aria-live="polite"></div>
  </section>

  <section id="galleryPage" class="page" aria-label="Галерея робіт перукарні Angel">
    <h2>Галерея</h2>
    <div class="gallery-grid" aria-live="polite">
      <img src="images/IMG_0561.JPG" alt="Локони середньої довжини" />
      <img src="images/IMG_0622.JPG" alt="Каре з об'ємом" />
      <img src="images/IMG_0901.JPG" alt="Світле укладання з хвилями" />
      <img src="images/IMG_0952.JPG" alt="Пряме світле волосся" />
      <img src="images/IMG_1125.PNG" alt="Шоколадний колір з блиском" />
    </div>
  </section>
</main>

<footer>
  <p>Слідкуйте за нами в <a href="https://www.instagram.com/p/DKUfIcWMCGC/?igsh=YXpybnN6b2NndzZx" target="_blank" rel="noopener noreferrer">Instagram</a></p>
</footer>

<script>
  const navBooking = document.getElementById('navBooking');
  const navGallery = document.getElementById('navGallery');
  const bookingPage = document.getElementById('bookingPage');
  const galleryPage = document.getElementById('galleryPage');

  function setActiveTab(tab) {
    if(tab === 'booking') {
      bookingPage.classList.add('active');
      galleryPage.classList.remove('active');
      navBooking.classList.add('active');
      navGallery.classList.remove('active');
      navBooking.setAttribute('aria-current', 'page');
      navGallery.removeAttribute('aria-current');
    } else {
      bookingPage.classList.remove('active');
      galleryPage.classList.add('active');
      navBooking.classList.remove('active');
      navGallery.classList.add('active');
      navBooking.removeAttribute('aria-current');
      navGallery.setAttribute('aria-current', 'page');
    }
  }

  navBooking.addEventListener('click', e => {
    e.preventDefault();
    setActiveTab('booking');
  });

  navGallery.addEventListener('click', e => {
    e.preventDefault();
    setActiveTab('gallery');
  });

  const dateSelect = document.getElementById('dateSelect');
  const timeSelect = document.getElementById('timeSelect');
  const bookBtn = document.getElementById('bookBtn');
  const message = document.getElementById('message');
  const bookingForm = document.getElementById('bookingForm');

  const busySlots = [
    "2025-07-20 10:00",
    "2025-07-20 12:00",
    "2025-07-21 14:00",
    "2025-08-05 11:00",
  ];

  const availableTimes = ["10:00", "11:00", "12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00"];

  function populateDates() {
    const today = new Date();
    for(let i = 0; i < 60; i++) {
      const date = new Date(today);
      date.setDate(today.getDate() + i);
      const yyyy = date.getFullYear();
      const mm = String(date.getMonth() + 1).padStart(2,'0');
      const dd = String(date.getDate()).padStart(2,'0');
      const dateStr = `${yyyy}-${mm}-${dd}`;

      const option = document.createElement('option');
      option.value = dateStr;
      option.textContent = date.toLocaleDateString('uk-UA', {weekday:'short', year:'numeric', month:'short', day:'numeric'});
      dateSelect.appendChild(option);
    }
  }

  function populateTimes(selectedDate) {
    timeSelect.innerHTML = '<option value="" disabled selected>Виберіть час</option>';
    let anyAvailable = false;

    for(const time of availableTimes) {
      const slot = `${selectedDate} ${time}`;
      const option = document.createElement('option');
      option.value = time;
      if(busySlots.includes(slot)) {
        option.disabled = true;
        option.textContent = `${time} (зайнято)`;
      } else {
        option.textContent = time;
        anyAvailable = true;
      }
      timeSelect.appendChild(option);
    }

    timeSelect.disabled = !anyAvailable;
    bookBtn.disabled = true;
    message.textContent = anyAvailable ? "" : "Вибрана дата повністю зайнята. Оберіть іншу дату.";
  }

  dateSelect.addEventListener('change', () => {
    populateTimes(dateSelect.value);
    bookBtn.disabled = true;
    message.textContent = "";
  });

  timeSelect.addEventListener('change', () => {
    bookBtn.disabled = !(dateSelect.value && timeSelect.value);
  });

  bookingForm.addEventListener('submit', (e) => {
    e.preventDefault();
    if(!dateSelect.value || !timeSelect.value) return;

    const bookingDateText = dateSelect.options[dateSelect.selectedIndex].textContent;
    const bookingTime = timeSelect.value;
    const slot = `${dateSelect.value} ${bookingTime}`;

    if(busySlots.includes(slot)) {
      message.style.color = 'red';
      message.textContent = 'Цей час вже зайнятий. Оберіть інший.';
      return;
    }

    busySlots.push(slot);
    message.style.color = 'green';
    message.textContent = `Дякуємо! Ви записані на ${bookingDateText} о ${bookingTime}.`;

    const email = 'stilist6199@gmail.com';
    const subject = encodeURIComponent(`Запис на прийом — ${bookingDateText} о ${bookingTime}`);
    const body = encodeURIComponent(
      `Доброго дня!\n\nЯ хочу записатися на прийом до перукарні Angel.\nДата: ${bookingDateText}\nЧас: ${bookingTime}\n\nБудь ласка, підтвердіть мій запис.\n\nДякую!`
    );

    window.open(`mailto:${email}?subject=${subject}&body=${body}`, '_blank');

    populateTimes(dateSelect.value);
    timeSelect.value = "";
    bookBtn.disabled = true;
  });

  populateDates();
</script>

</body>
</html>


